
class Video extends Node {
  auto dragHandle = <div style=style.videoHandle></div>;
  auto dragButton = <div style=style.videoDrag data=this></div>;
  auto textarea = <ui.Textarea/>;

  Video() {
    code=journal.ItemType.VIDEO;
  }

  override void create() {
    element = <div style=style.video>
      <div style=style.nodeButtons>
        {dragButton}
        <div style=style.selectButton></div>
        <div style=style.deleteButton onclick=onDeleteClick></div>
      </div>
      {textarea}
    </div>;

    textarea.element.style = style.codeTextarea;
    textarea.element.setStyle(style.codeTextarea);
  }

  override void enter() {
    if isEnter { return; }
    base.enter();

    web.appendTag(dragHandle);
    web.dragInit(dragButton, dragHandle);
  }

  override void exit() {
    if !isEnter { return; }

    web.dragUninit(dragButton);
    dragHandle.remove();

    base.exit();
  }
}
